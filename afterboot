
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/mandoc.css" type="text/css" media="all">
  <title>afterboot(8) - OpenBSD manual pages</title>
</head>
<body>
<p><a href="https://www.openbsd.org/"><img height="30" width="141" src="/openbsd.gif" alt="[OpenBSD]"></a></p>
<form action="/" method="get">
  <fieldset>
    <legend>Manual Page Search Parameters</legend>
    <input type="text" name="query" value="afterboot" size="40">
    <button type="submit" name="apropos" value="0">man</button>
    <button type="submit" name="apropos" value="1">apropos</button>
    <br/>
    <select name="sec">
      <option value="0">All Sections</option>
      <option value="1">1 - General Commands</option>
      <option value="2">2 - System Calls</option>
      <option value="3">3 - Library Functions</option>
      <option value="3p">3p - Perl Library</option>
      <option value="4">4 - Device Drivers</option>
      <option value="5">5 - File Formats</option>
      <option value="6">6 - Games</option>
      <option value="7">7 - Miscellaneous Information</option>
      <option value="8">8 - System Manager's Manual</option>
      <option value="9">9 - Kernel Developer's Manual</option>
    </select>
    <select name="arch">
      <option value="default" selected="selected">All Architectures</option>
      <option value="amd64">amd64</option>
      <option value="alpha">alpha</option>
      <option value="armv7">armv7</option>
      <option value="arm64">arm64</option>
      <option value="hppa">hppa</option>
      <option value="i386">i386</option>
      <option value="landisk">landisk</option>
      <option value="loongson">loongson</option>
      <option value="luna88k">luna88k</option>
      <option value="macppc">macppc</option>
      <option value="mips64">mips64</option>
      <option value="octeon">octeon</option>
      <option value="sgi">sgi</option>
      <option value="socppc">socppc</option>
      <option value="sparc64">sparc64</option>
      <option value="amiga">amiga</option>
      <option value="arc">arc</option>
      <option value="armish">armish</option>
      <option value="arm32">arm32</option>
      <option value="atari">atari</option>
      <option value="aviion">aviion</option>
      <option value="beagle">beagle</option>
      <option value="cats">cats</option>
      <option value="hppa64">hppa64</option>
      <option value="hp300">hp300</option>
      <option value="ia64">ia64</option>
      <option value="mac68k">mac68k</option>
      <option value="mvme68k">mvme68k</option>
      <option value="mvme88k">mvme88k</option>
      <option value="mvmeppc">mvmeppc</option>
      <option value="palm">palm</option>
      <option value="pc532">pc532</option>
      <option value="pegasos">pegasos</option>
      <option value="pmax">pmax</option>
      <option value="powerpc">powerpc</option>
      <option value="solbourne">solbourne</option>
      <option value="sparc">sparc</option>
      <option value="sun3">sun3</option>
      <option value="vax">vax</option>
      <option value="wgrisc">wgrisc</option>
      <option value="x68k">x68k</option>
      <option value="zaurus">zaurus</option>
    </select>
    <select name="manpath">
      <option value="OpenBSD-current">OpenBSD-current</option>
      <option selected="selected" value="OpenBSD-6.3">OpenBSD-6.3</option>
      <option value="OpenBSD-6.2">OpenBSD-6.2</option>
      <option value="POSIX-2013">POSIX-2013</option>
      <option value="4.4BSD-Lite2">4.4BSD-Lite2</option>
      <option value="UNIX-7">UNIX-7</option>
      <option value="FreeBSD-11.1">FreeBSD-11.1</option>
      <option value="FreeBSD-10.4">FreeBSD-10.4</option>
      <option value="DragonFly-5.0.0">DragonFly-5.0.0</option>
      <option value="NetBSD-7.1">NetBSD-7.1</option>
      <option value="NetBSD-6.1.5">NetBSD-6.1.5</option>
      <option value="Linux-4.13">Linux-4.13</option>
      <option value="OpenBSD-6.1">OpenBSD-6.1</option>
      <option value="OpenBSD-6.0">OpenBSD-6.0</option>
      <option value="OpenBSD-5.9">OpenBSD-5.9</option>
      <option value="OpenBSD-5.8">OpenBSD-5.8</option>
      <option value="OpenBSD-5.7">OpenBSD-5.7</option>
      <option value="OpenBSD-5.6">OpenBSD-5.6</option>
      <option value="OpenBSD-5.5">OpenBSD-5.5</option>
      <option value="OpenBSD-5.4">OpenBSD-5.4</option>
      <option value="OpenBSD-5.3">OpenBSD-5.3</option>
      <option value="OpenBSD-5.2">OpenBSD-5.2</option>
      <option value="OpenBSD-5.1">OpenBSD-5.1</option>
      <option value="OpenBSD-5.0">OpenBSD-5.0</option>
      <option value="OpenBSD-4.9">OpenBSD-4.9</option>
      <option value="OpenBSD-4.8">OpenBSD-4.8</option>
      <option value="OpenBSD-4.7">OpenBSD-4.7</option>
      <option value="OpenBSD-4.6">OpenBSD-4.6</option>
      <option value="OpenBSD-4.5">OpenBSD-4.5</option>
      <option value="OpenBSD-4.4">OpenBSD-4.4</option>
      <option value="OpenBSD-4.3">OpenBSD-4.3</option>
      <option value="OpenBSD-4.2">OpenBSD-4.2</option>
      <option value="OpenBSD-4.1">OpenBSD-4.1</option>
      <option value="OpenBSD-4.0">OpenBSD-4.0</option>
      <option value="OpenBSD-3.9">OpenBSD-3.9</option>
      <option value="OpenBSD-3.8">OpenBSD-3.8</option>
      <option value="OpenBSD-3.7">OpenBSD-3.7</option>
      <option value="OpenBSD-3.6">OpenBSD-3.6</option>
      <option value="OpenBSD-3.5">OpenBSD-3.5</option>
      <option value="OpenBSD-3.4">OpenBSD-3.4</option>
      <option value="OpenBSD-3.3">OpenBSD-3.3</option>
      <option value="OpenBSD-3.2">OpenBSD-3.2</option>
      <option value="OpenBSD-3.1">OpenBSD-3.1</option>
      <option value="OpenBSD-3.0">OpenBSD-3.0</option>
      <option value="OpenBSD-2.9">OpenBSD-2.9</option>
      <option value="OpenBSD-2.8">OpenBSD-2.8</option>
      <option value="OpenBSD-2.7">OpenBSD-2.7</option>
      <option value="OpenBSD-2.6">OpenBSD-2.6</option>
      <option value="OpenBSD-2.5">OpenBSD-2.5</option>
      <option value="OpenBSD-2.4">OpenBSD-2.4</option>
      <option value="OpenBSD-2.3">OpenBSD-2.3</option>
      <option value="OpenBSD-2.2">OpenBSD-2.2</option>
      <option value="FreeBSD-10.3">FreeBSD-10.3</option>
      <option value="FreeBSD-10.2">FreeBSD-10.2</option>
      <option value="FreeBSD-10.0">FreeBSD-10.0</option>
      <option value="DragonFly-4.8.0">DragonFly-4.8.0</option>
      <option value="DragonFly-4.6.0">DragonFly-4.6.0</option>
      <option value="DragonFly-4.4.2">DragonFly-4.4.2</option>
      <option value="DragonFly-3.8.2">DragonFly-3.8.2</option>
      <option value="NetBSD-7.0.1">NetBSD-7.0.1</option>
      <option value="NetBSD-7.0">NetBSD-7.0</option>
      <option value="Linux-4.05">Linux-4.05</option>
    </select>
  </fieldset>
</form>
<hr>
<table class="head">
  <tr>
    <td class="head-ltitle">AFTERBOOT(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">AFTERBOOT(8)</td>
  </tr>
</table>
<div class="manual-text">
<h1 class="Sh" title="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<code class="Nm" title="Nm">afterboot</code> &#x2014;
  <span class="Nd" title="Nd">things to check after the first complete
  boot</span>
<h1 class="Sh" title="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<h2 class="Ss" title="Ss" id="Starting_out"><a class="permalink" href="#Starting_out">Starting
  out</a></h2>
This document attempts to list items for the system administrator to check and
  set up after the installation and first complete boot of the system. The idea
  is to create a list of items that can be checked off so that you have a warm
  fuzzy feeling that something obvious has not been missed. A basic knowledge of
  <span class="Ux">UNIX</span> is assumed, otherwise type:
<div class="Pp"></div>
<div class="D1"><code class="Li">$ help</code></div>
<div class="Pp"></div>
Complete instructions for correcting and fixing items are not provided. There
  are manual pages and other methodologies available for doing that. For
  example, to view the man page for the
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/ls.1">ls(1)</a> command, type:
<div class="Pp"></div>
<div class="D1"><code class="Li">$ man 1 ls</code></div>
<div class="Pp"></div>
Administrators will rapidly become more familiar with
  <span class="Ux">OpenBSD</span> if they get used to using the high quality
  manual pages.
<h2 class="Ss" title="Ss" id="Errata"><a class="permalink" href="#Errata">Errata</a></h2>
By the time that you have installed your system, it is possible that bugs in the
  release have been found. Security or reliability fixes can be found at
  <a class="Lk" title="Lk" href="https://www.openbsd.org/errata.html">https://www.openbsd.org/errata.html</a>,
  and can be installed using
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/syspatch.8">syspatch(8)</a>.
<h2 class="Ss" title="Ss" id="Login"><a class="permalink" href="#Login">Login</a></h2>
Log in on the console, or over the network using
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/ssh.1">ssh(1)</a>. For security
  reasons, it is bad practice to log in as root during regular use and
  maintenance of the system. Instead, administrators are encouraged to add a
  &#x201C;regular&#x201D; user, add said user to the &#x201C;wheel&#x201D;
  group, then use the
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/su.1">su(1)</a> and
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/doas.1">doas(1)</a> commands when
  root privileges are required.
<div class="Pp"></div>
The installation process provides an option to set up a user account. By
  default, accounts created via this method are automatically added to the
  &#x201C;wheel&#x201D; group. If that option was not used, see the paragraph
  <a class="Sx" title="Sx" href="#Add_new_users">Add new users</a> below.
<div class="Pp"></div>
To deny root logins over the network, edit the
  <i class="Pa" title="Pa">/etc/ssh/sshd_config</i> file and set
  <code class="Cm" title="Cm">PermitRootLogin</code> to &#x201C;no&#x201D; (see
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/sshd_config.5">sshd_config(5)</a>).
<h2 class="Ss" title="Ss" id="Root_password"><a class="permalink" href="#Root_password">Root
  password</a></h2>
Change the password for the root user. (Note that throughout the documentation,
  the term &#x201C;superuser&#x201D; is a synonym for the root user.) Choose a
  password that has digits and special characters as well as from the upper and
  lower case alphabet. Do not choose any word in any language. It is common for
  an intruder to use dictionary attacks. Type the following command to change
  it:
<div class="Pp"></div>
<div class="D1"><code class="Li"># passwd root</code></div>
<div class="Pp"></div>
To avoid the possibility of rogue files placed in the superuser's
  <code class="Ev" title="Ev">PATH</code>, it should never contain the current
  directory (&#x201C;.&#x201D;).
<h2 class="Ss" title="Ss" id="System_date"><a class="permalink" href="#System_date">System
  date</a></h2>
<a class="Xr" title="Xr" href="/OpenBSD-6.3/ntpd.8">ntpd(8)</a> is used to
  automatically synchronize clocks with remote NTP servers. You can use
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/ntpctl.8">ntpctl(8)</a> to check
  the status. To change the NTP server, see
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/ntpd.conf.5">ntpd.conf(5)</a>.
<div class="Pp"></div>
Check the system date with the
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/date.1">date(1)</a> command. If
  needed, change the date, and/or change the symbolic link of
  <i class="Pa" title="Pa">/etc/localtime</i> to the correct time zone in the
  <i class="Pa" title="Pa">/usr/share/zoneinfo</i> directory.
<div class="Pp"></div>
Examples:
<div class="Pp"></div>
Set the current date to January 27th, 2016 3:04pm:
<div class="D1"><code class="Li"># date 201601271504</code></div>
<div class="Pp"></div>
Set the time zone to Atlantic Standard Time:
<div class="D1"><code class="Li"># ln -fs /usr/share/zoneinfo/Canada/Atlantic
  /etc/localtime</code></div>
<h2 class="Ss" title="Ss" id="Check_hostname"><a class="permalink" href="#Check_hostname">Check
  hostname</a></h2>
Use the <code class="Ic" title="Ic">hostname</code> command to verify that the
  name of your machine is correct. See the man page for
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/hostname.1">hostname(1)</a> if it
  needs to be changed. You will also need to edit the
  <i class="Pa" title="Pa">/etc/myname</i> file to have it stick around for the
  next reboot.
<h2 class="Ss" title="Ss" id="Verify_network_interface_configuration"><a class="permalink" href="#Verify_network_interface_configuration">Verify
  network interface configuration</a></h2>
The first thing to do is an <code class="Ic" title="Ic">ifconfig -a</code> to
  see if the network interfaces are properly configured. Correct by editing
  <i class="Pa" title="Pa">/etc/hostname.</i><var class="Ar" title="Ar">interface</var>
  (where <var class="Ar" title="Ar">interface</var> is the interface name, e.g.,
  &#x201C;em0&#x201D;) and then using
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/ifconfig.8">ifconfig(8)</a> to
  manually configure it if you do not wish to reboot. Read the
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/hostname.if.5">hostname.if(5)</a>
  man page for more information on the format of
  <i class="Pa" title="Pa">/etc/hostname.</i><var class="Ar" title="Ar">interface</var>
  files. The loopback interface will look something like:
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">
<pre class="Li">
lo0: flags=8009&lt;UP,LOOPBACK,MULTICAST&gt; mtu 32972 
	inet6 fe80::1%lo0 prefixlen 64 scopeid 0x3 
	inet6 ::1 prefixlen 128 
	inet 127.0.0.1 netmask 0xff000000
</pre>
</div>
<div class="Pp"></div>
an Ethernet interface something like:
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">
<pre class="Li">
em0: flags=9863&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; 
	inet 192.168.4.52 netmask 0xffffff00 broadcast 192.168.4.255 
	inet6 fe80::5ef0:f0f0%em0 prefixlen 64 scopeid 0x1
</pre>
</div>
<div class="Pp"></div>
and a PPP interface something like:
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">
<pre class="Li">
ppp0: flags=8051&lt;UP,POINTOPOINT,RUNNING,MULTICAST&gt; 
        inet 203.3.131.108 --&gt; 198.181.0.253 netmask 0xffff0000
</pre>
</div>
<div class="Pp"></div>
See <a class="Xr" title="Xr" href="/OpenBSD-6.3/netstart.8">netstart(8)</a> for
  instructions on configuring multicast routing.
<div class="Pp"></div>
See
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/hostname.if.5">hostname.if(5)</a>
  for instructions on configuring interfaces with DHCP.
<h2 class="Ss" title="Ss" id="Check_routing_tables"><a class="permalink" href="#Check_routing_tables">Check
  routing tables</a></h2>
Issue a <code class="Ic" title="Ic">netstat -rn</code> command. The output will
  look something like:
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">
<pre class="Li">
Routing tables 
 
Internet: 
Destination    Gateway           Flags  Refs     Use  Mtu  Interface 
default        192.168.4.254     UGS      0 11098028    -  em0 
127            127.0.0.1         UGRS     0        0    -  lo0 
127.0.0.1      127.0.0.1         UH       3       24    -  lo0 
192.168.4      link#1            UC       0        0    -  em0 
192.168.4.52   8:0:20:73:b8:4a   UHL      1     6707    -  em0 
192.168.4.254  0:60:3e:99:67:ea  UHL      1        0    -  em0 
 
Internet6: 
Destination        Gateway       Flags  Refs  Use     Mtu  Interface 
::/96              ::1           UGRS     0     0   32972  lo0 =&gt; 
::1                ::1           UH       4     0   32972  lo0 
::ffff:0.0.0.0/96  ::1           UGRS     0     0   32972  lo0 
fc80::/10          ::1           UGRS     0     0   32972  lo0 
fe80::/10          ::1           UGRS     0     0   32972  lo0 
fe80::%em0/64      link#1        UC       0     0    1500  em0 
fe80::%lo0/64      fe80::1%lo0   U        0     0   32972  lo0 
ff01::/32          ::1           U        0     0   32972  lo0 
ff02::%em0/32      link#1        UC       0     0    1500  em0 
ff02::%lo0/32      fe80::1%lo0   UC       0     0   32972  lo0
</pre>
</div>
<div class="Pp"></div>
The default gateway address is stored in the
  <i class="Pa" title="Pa">/etc/mygate</i> file. If you need to edit this file,
  a painless way to reconfigure the network afterwards is
  <code class="Ic" title="Ic">route flush</code> followed by a
  <code class="Ic" title="Ic">sh -x /etc/netstart</code> command. Or, you may
  prefer to manually configure using a series of
  <code class="Ic" title="Ic">route add</code> and
  <code class="Ic" title="Ic">route delete</code> commands (see
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/route.8">route(8)</a>). If you run
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/dhclient.8">dhclient(8)</a> you
  will have to kill it by running <code class="Ic" title="Ic">pkill
  dhclient</code> after you flush the routes.
<div class="Pp"></div>
If you wish to route packets between interfaces, add one or both of the
  following directives (depending on whether IPv4 or IPv6 routing is required)
  to <i class="Pa" title="Pa">/etc/sysctl.conf</i>:
<div class="Pp"></div>
<div class="D1"><code class="Li">net.inet.ip.forwarding=1</code></div>
<div class="D1"><code class="Li">net.inet6.ip6.forwarding=1</code></div>
<div class="Pp"></div>
Packets are not forwarded by default, due to RFC requirements.
<h2 class="Ss" title="Ss" id="Check_DNS"><a class="permalink" href="#Check_DNS">Check
  DNS</a></h2>
Use <a class="Xr" title="Xr" href="/OpenBSD-6.3/host.1">host(1)</a> or
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/dig.1">dig(1)</a> to check that
  domain name resolution is working properly.
<div class="Pp"></div>
Most likely, the IP address of at least one domain name server was added to
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/resolv.conf.5">resolv.conf(5)</a>
  while installing the system. If DHCP is in use, it will overwrite
  <i class="Pa" title="Pa">/etc/resolv.conf</i> every time
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/dhclient.8">dhclient(8)</a> is run
  but <i class="Pa" title="Pa">/etc/resolv.conf.tail</i> can be used to add
  options and extra name servers to those received dynamically.
<div class="Pp"></div>
A <a class="Xr" title="Xr" href="/OpenBSD-6.3/hosts.5">hosts(5)</a> file can be
  used if there is a need for system specific name resolution entries.
<h2 class="Ss" title="Ss" id="Check_disk_mounts"><a class="permalink" href="#Check_disk_mounts">Check
  disk mounts</a></h2>
Check that the disks are mounted correctly by comparing the
  <i class="Pa" title="Pa">/etc/fstab</i> file against the output of the
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/mount.8">mount(8)</a> and
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/df.1">df(1)</a> commands. Example:
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">
<pre class="Li">
# cat /etc/fstab 
/dev/sd0a / ffs rw 1 1 
/dev/sd0d /usr ffs rw,nodev 1 2 
/dev/sd0e /var ffs rw,nodev,nosuid 1 3 
/dev/sd0g /tmp ffs rw,nodev,nosuid 1 4 
/dev/sd0h /home ffs rw,nodev,nosuid 1 5 
 
# mount 
/dev/sd0a on / type ffs (local) 
/dev/sd0d on /usr type ffs (local, nodev) 
/dev/sd0e on /var type ffs (local, nodev, nosuid) 
/dev/sd0g on /tmp type ffs (local, nodev, nosuid) 
/dev/sd0h on /home type ffs (local, nodev, nosuid) 
 
# df 
Filesystem  1024-blocks     Used    Avail Capacity  Mounted on 
/dev/sd0a         22311    14589     6606    69%    / 
/dev/sd0d        203399   150221    43008    78%    /usr 
/dev/sd0e         10447      682     9242     7%    /var 
/dev/sd0g         18823        2    17879     0%    /tmp 
/dev/sd0h          7519     5255     1888    74%    /home 
 
# pstat -s 
Device      512-blocks     Used    Avail Capacity  Priority 
/dev/sd0b       131072    84656    46416    65%    0
</pre>
</div>
<div class="Pp"></div>
Edit <i class="Pa" title="Pa">/etc/fstab</i> and use the
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/mount.8">mount(8)</a> and
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/umount.8">umount(8)</a> commands
  as appropriate. Refer to the above example and
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/fstab.5">fstab(5)</a> for
  information on the format of this file.
<div class="Pp"></div>
You may wish to do NFS partitions now too, or you can do them later.
<h2 class="Ss" title="Ss" id="Check_the_running_system"><a class="permalink" href="#Check_the_running_system">Check
  the running system</a></h2>
You can use <a class="Xr" title="Xr" href="/OpenBSD-6.3/ps.1">ps(1)</a>,
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/netstat.1">netstat(1)</a>, and
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/fstat.1">fstat(1)</a> to check on
  running processes, network connections, and opened files, respectively.
<h1 class="Sh" title="Sh" id="FURTHER_CHANGES"><a class="permalink" href="#FURTHER_CHANGES">FURTHER
  CHANGES</a></h1>
The system should be usable now, but you may wish to do more customizing, such
  as adding users, etc. We suggest that you <code class="Ic" title="Ic">cd
  /etc</code> and edit any files in that directory as necessary.
<div class="Pp"></div>
Note that the <i class="Pa" title="Pa">/etc/motd</i> file is modified by
  <i class="Pa" title="Pa">/etc/rc</i> whenever the system is booted. To keep
  any custom message intact, ensure that you leave two blank lines at the top,
  or your message will be overwritten.
<h2 class="Ss" title="Ss" id="Add_new_users"><a class="permalink" href="#Add_new_users">Add
  new users</a></h2>
Add users. There is an
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/adduser.8">adduser(8)</a> script.
  You may use <a class="Xr" title="Xr" href="/OpenBSD-6.3/vipw.8">vipw(8)</a> to
  add users to the <i class="Pa" title="Pa">/etc/passwd</i> file and edit
  <i class="Pa" title="Pa">/etc/group</i> by hand to add new groups. You may
  also wish to edit <i class="Pa" title="Pa">/etc/login.conf</i> and tune some
  of the limits documented in
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/login.conf.5">login.conf(5)</a>.
  The manual page for
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/su.1">su(1)</a> tells you to make
  sure to put people in the &#x2018;wheel&#x2019; group if they need root
  access. For example:
<div class="Pp"></div>
<div class="D1"><code class="Li">wheel:*:0:root,myself</code></div>
<h2 class="Ss" title="Ss" id="System_command_scripts"><a class="permalink" href="#System_command_scripts">System
  command scripts</a></h2>
The <i class="Pa" title="Pa">/etc/rc.*</i> scripts are invoked at boot time,
  after single-user mode has exited, and at shutdown. The whole process is
  controlled, more or less, by the master script
  <i class="Pa" title="Pa">/etc/rc</i>. This script should not be changed by
  administrators.
<div class="Pp"></div>
<i class="Pa" title="Pa">/etc/rc</i> is in turn influenced by the configuration
  variables present in <i class="Pa" title="Pa">/etc/rc.conf</i>. Again, this
  script should not be changed by administrators: site-specific changes should
  be made to (freshly created if necessary)
  <i class="Pa" title="Pa">/etc/rc.conf.local</i> or by using the
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/rcctl.8">rcctl(8)</a> utility.
<div class="Pp"></div>
Any commands which should be run before the system sets its secure level should
  be made to <i class="Pa" title="Pa">/etc/rc.securelevel</i>, and commands to
  be run after the system sets its secure level should be made to
  <i class="Pa" title="Pa">/etc/rc.local</i>. Commands to be run before system
  shutdown should be set in <i class="Pa" title="Pa">/etc/rc.shutdown</i>.
<div class="Pp"></div>
For more information about system startup/shutdown files, see
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/rc.8">rc(8)</a>,
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/rc.conf.8">rc.conf(8)</a>,
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/securelevel.7">securelevel(7)</a>,
  and
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/rc.shutdown.8">rc.shutdown(8)</a>.
<div class="Pp"></div>
If you've installed X, you may want to turn on
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/xenodm.1">xenodm(1)</a>, the X
  Display Manager. To do this, change the value of
  <var class="Va" title="Va">xenodm_flags</var> in
  <i class="Pa" title="Pa">/etc/rc.conf.local</i>.
<h2 class="Ss" title="Ss" id="Set_keyboard_type"><a class="permalink" href="#Set_keyboard_type">Set
  keyboard type</a></h2>
Some architectures permit keyboard type control. Use the
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/kbd.8">kbd(8)</a> command to
  change the keyboard encoding. <code class="Ic" title="Ic">kbd -l</code> will
  list all available encodings. <code class="Ic" title="Ic">kbd xxx</code> will
  select the <code class="Ic" title="Ic">xxx</code> encoding. Store the encoding
  in <i class="Pa" title="Pa">/etc/kbdtype</i> to make sure it is set
  automatically at boot time.
<h2 class="Ss" title="Ss" id="Printers"><a class="permalink" href="#Printers">Printers</a></h2>
Edit <i class="Pa" title="Pa">/etc/printcap</i> and
  <i class="Pa" title="Pa">/etc/hosts.lpd</i> to get any printers set up.
  Consult <a class="Xr" title="Xr" href="/OpenBSD-6.3/lpd.8">lpd(8)</a> and
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/printcap.5">printcap(5)</a> if
  needed.
<h2 class="Ss" title="Ss" id="Mail_aliases"><a class="permalink" href="#Mail_aliases">Mail
  aliases</a></h2>
Edit <i class="Pa" title="Pa">/etc/mail/aliases</i> and set the three standard
  aliases to go to either a mailing list, or the system administrator.
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">
<pre class="Li">
# Well-known aliases -- these should be filled in! 
root:		sysadm 
manager:	root 
dumper:		root
</pre>
</div>
<h2 class="Ss" title="Ss" id="Mail"><a class="permalink" href="#Mail">Mail</a></h2>
The default mail agent on <span class="Ux">OpenBSD</span> is
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/smtpd.8">smtpd(8)</a>. Details on
  how to configure an alternative mailer are documented in
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/mailer.conf.5">mailer.conf(5)</a>.
<div class="Pp"></div>
<span class="Ux">OpenBSD</span> ships with a default
  <i class="Pa" title="Pa">/etc/mail/smtpd.conf</i> file that will work for
  simple installations. See
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/smtpd.conf.5">smtpd.conf(5)</a>
  for information on configuring more complex setups. For the default
  installation,
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/smtpd.8">smtpd(8)</a> is
  configured to only accept connections from the local host. This makes it
  possible to send mail locally, but not receive mail from remote servers, which
  is ideal if you have one central incoming mail machine and several clients. To
  cause smtpd to accept external network connections, modify the
  <var class="Va" title="Va">listen</var> directive in
  <i class="Pa" title="Pa">/etc/mail/smtpd.conf</i> to include the interfaces to
  listen on.
<h2 class="Ss" title="Ss" id="Daily,_weekly,_monthly_scripts"><a class="permalink" href="#Daily,_weekly,_monthly_scripts">Daily,
  weekly, monthly scripts</a></h2>
Review <a class="Xr" title="Xr" href="/OpenBSD-6.3/daily.8">daily(8)</a> to
  understand what the periodic system maintenance scripts do and how to
  customize them: For example, to enable
  <code class="Ev" title="Ev">ROOTBACKUP</code> or to disable
  <code class="Ev" title="Ev">VERBOSESTATUS</code>, or to add local maintenance
  code to <i class="Pa" title="Pa">/etc/daily.local</i>,
  <i class="Pa" title="Pa">/etc/weekly.local</i>, or
  <i class="Pa" title="Pa">/etc/monthly.local</i>.
<h2 class="Ss" title="Ss" id="Tighten_up_security"><a class="permalink" href="#Tighten_up_security">Tighten
  up security</a></h2>
You might wish to tighten up security more by editing
  <i class="Pa" title="Pa">/etc/fbtab</i> as when installing X. Look at the
  other files in <i class="Pa" title="Pa">/etc</i> and edit them as needed. (Do
  not edit files ending in <i class="Pa" title="Pa">.db</i> &#x2014; like
  <i class="Pa" title="Pa">pwd.db</i>, <i class="Pa" title="Pa">spwd.db</i>, nor
  <i class="Pa" title="Pa">localtime</i>, nor <i class="Pa" title="Pa">rmt</i>,
  nor any directories.)
<h2 class="Ss" title="Ss" id="Crontab_(background_running_processes)"><a class="permalink" href="#Crontab_(background_running_processes)">Crontab
  (background running processes)</a></h2>
Check what is running by typing <code class="Ic" title="Ic">crontab -l</code> as
  root and see if anything unexpected is present. Do you need anything else? Do
  you wish to change things? See
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/crontab.5">crontab(5)</a>.
<h2 class="Ss" title="Ss" id="Next_day_cleanup"><a class="permalink" href="#Next_day_cleanup">Next
  day cleanup</a></h2>
After the first night's
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/security.8">security(8)</a> run,
  change ownerships and permissions on files, directories, and devices; root may
  have received mail with subject: &quot;&lt;hostname&gt; daily insecurity
  output&quot;. This mail contains a set of security recommendations, presented
  as a list looking something like this:
<div class="Pp"></div>
<div class="Bd" style="margin-left: 5.00ex;">
<pre class="Li">
var/mail: 
        permissions (0755, 0775) 
etc/daily: 
        user (0, 3)
</pre>
</div>
<div class="Pp"></div>
The best bet is to follow the advice in that list. The recommended setting is
  the first item in parentheses, while the current setting is the second one.
  This list is generated by
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/mtree.8">mtree(8)</a> using
  <i class="Pa" title="Pa">/etc/mtree/special</i>. Use
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/chmod.1">chmod(1)</a>,
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/chgrp.1">chgrp(1)</a>, and
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/chown.8">chown(8)</a> as needed.
<h2 class="Ss" title="Ss" id="Daemons"><a class="permalink" href="#Daemons">Daemons</a></h2>
Enable/disable any daemon processes as necessary.
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/intro.8">intro(8)</a> contains a
  comprehensive guide to the various daemons available on the
  <span class="Ux">OpenBSD</span> system.
<h2 class="Ss" title="Ss" id="Packages"><a class="permalink" href="#Packages">Packages</a></h2>
Install your own packages. The <span class="Ux">OpenBSD</span> ports collection
  includes a large set of third-party software. A lot of it is available as
  binary packages that you can install using
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/pkg_add.1">pkg_add(1)</a>. See
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/ports.7">ports(7)</a> and
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/packages.7">packages(7)</a> for
  more details. To start daemons installed from packages, see
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/rc.d.8">rc.d(8)</a>.
<div class="Pp"></div>
There is also other third-party software that is available in source form only,
  either because it has not been ported to <span class="Ux">OpenBSD</span> yet,
  or because licensing restrictions make binary redistribution impossible.
  Sometimes checking the mailing lists for past problems that people have
  encountered will result in a fix posted.
<h2 class="Ss" title="Ss" id="Compiling_a_kernel"><a class="permalink" href="#Compiling_a_kernel">Compiling
  a kernel</a></h2>
Information on building and modifying kernels is contained within
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/config.8">config(8)</a>.
<h1 class="Sh" title="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<a class="Xr" title="Xr" href="/OpenBSD-6.3/doas.1">doas(1)</a>,
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/ksh.1">ksh(1)</a>,
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/man.1">man(1)</a>,
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/pkg_add.1">pkg_add(1)</a>,
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/ps.1">ps(1)</a>,
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/vi.1">vi(1)</a>,
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/hier.7">hier(7)</a>,
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/config.8">config(8)</a>,
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/dmesg.8">dmesg(8)</a>,
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/ifconfig.8">ifconfig(8)</a>,
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/intro.8">intro(8)</a>,
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/rcctl.8">rcctl(8)</a>,
  <a class="Xr" title="Xr" href="/OpenBSD-6.3/sysctl.8">sysctl(8)</a>
<h1 class="Sh" title="Sh" id="HISTORY"><a class="permalink" href="#HISTORY">HISTORY</a></h1>
This document first appeared in <span class="Ux">OpenBSD 2.2</span>.</div>
<table class="foot">
  <tr>
    <td class="foot-date">September 7, 2017</td>
    <td class="foot-os">OpenBSD-6.3</td>
  </tr>
</table>
</body>
</html>
